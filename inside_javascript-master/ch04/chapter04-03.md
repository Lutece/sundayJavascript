## 4.3 함수의 다양한 형태

### 4.3.1 콜백 함수

자바스크립트 함수 표현식에서 **함수 이름** 은 꼭 붙이지 않아도 되는 선택 사항이다.  
즉, 함수의 이름을 지정하지 않아도 함수가 정의되며 이러한 함수가 익명 함수라고 이미 설명했다.  

이러한 익명 함수의 대표적인 용도가 바로 **콜백 함수** 이다.  

콜백 함수는 코드를 통해 명시적으로 호출하는 함수가 아니라, 개발자는 단지 함수를 등록하기만 하고, 어떤 이벤트가 발생했거나 특정 시점에 도달했을 때 시스템에서 호출되는 함수를 말한다.

또한, 특정 함수의 인자로 넘겨서, 코드 내부에서 호출되는 함수 또한 콜백 함수가 될 수 있다.

```html
<!DOCTYPE html>
<html>
<head>
</head>
<body>
    <script>
        // 페이지 로드시 호출될 콜백 함수
        window.onload = function(){
            alert('This id the callback function');
        };
    </script>
</body>
</html>
```
위 예제는 widnow.onload 이벤트 핸들러를 `익명 함수`로 연결했다. 따라서 익명 함수가 콜백 함수로 등록된 것이다.

### 4.3.2 즉시 실행 함수

함수를 정의함과 동시에 바로 실행하는 함수를 **즉시 실행 함수(immediate functions)** 라고 한다.   
이 함수도 익명 함수를 응용한 형태이다.
```js
// 즉시 실행 함수 예제 코드
(function(name){
    console.log('This is the immediate function -> ' + name);
})('foo');  // 출력값 This is the immediate function -> foo
```
이렇게 함수가 선언되자마자 실행되게 만든 즉시 실행 함수의 경우, **같은 함수를 다시 호출할 수 없다.**  
따라서 즉시 실행 함수의 이러한 특징을 이용한다면 **최초 한 번의 실행만을 필요로 하는 초기화 코드 부분** 등에 사용할 수 있다.

### 4.3.3 내부 함수

자바스크립트에서는 함수 코드 내부에서도 다시 함수 정의가 가능하다.  
이렇게 함수 내부에 정의된 함수를 **내부 함수(inner function)** 라고 부른다.  

내부 함수는 자바스크립트의 기능을 보다 강력하게 해주는 클로저를 생성하거나 부모 함수 코드에서 외부에서의 접근을 막고 독립적인 헬퍼 함수를 구현하는 용도 등으로 사용한다.  

```js
//parent() 함수 정의
function parent(){
    var a = 100;
    var b = 200;

    //child() 내부 함수 정의
    function child(){
        var b = 300;
        console.log(a);
        console.log(b);
    }
    child();    
}
parent();   //출력값 (100, 300)
child();    //출력값 (Uncaught ReferenceError: child is not defined)
```
> 내부 함수에서는 자신을 둘러싼 부모 함수의 변수에 접근이 가능하다.  

이것이 가능한 이유는 자바스크립트의 **스코프 체이닝** 때문이다.  

> 내부 함수는 일반적으로 자신이 정의된 부모 함수 내부에서만 호출이 가능하다.

이것은 **함수 스코프** 때문이다.

또한, 자바스크립트 스코프 체이닝 때문에, 함수 내부에서는 함수 밖에서 선언된 변수나 함수의 접근이 가능하다.  
하지만 함수 외부에서도 특정 함수 스코프 안에 선언된 내부 함수를 호출할 수 있다.  
가령, 부모 함수에서 내부 함수를 외부로 리턴하면, 부모 함수 밖에서도 내부 함수를 호출하는 것이 가능하다.
```js
// 함수 스코프 외부에서 내부 함수 호출하는 예제 코드
function parent(){
    var a = 100;
    // 내부 함수
    var child = function(){
        console.log(a);
    };
    return child;
}
var inner = parent();
inner();    //출력값 100
```

위와 같이 실행이 끝난 parent()와 같은 부모 함수 스코프의 변수를 참조하는 inner()와 같은 함수를 **클로저** 라고 한다.

### 4.3.4 함수를 리턴하는 함수

자바스크립트에서는 함수도 일급 객체이므로 일반 값처럼 함수 자체를 리턴할 수도 있다.  
이러한 특징은 다양한 활용이 가능해진다. 함수를 호출함과 동시에 다른 함수로 바꾸거나, 자기 자신을 재정의하는 함수를 구현할 수 있다.
## [4.4 함수 호출과 this](./chapter04-04.md)
